<plugin>
    <id>peach</id>
    <name>PEACH</name>

    <extensionPoints>
        <extensionPoint name="applicationService" beanClass="com.github.mouse0w0.peach.service.ServiceDescriptor"/>
        <extensionPoint name="projectService" beanClass="com.github.mouse0w0.peach.service.ServiceDescriptor"/>
        <extensionPoint name="view" beanClass="com.github.mouse0w0.peach.view.ViewEP"/>
        <extensionPoint name="fileAppearance" interface="com.github.mouse0w0.peach.file.FileAppearance"/>
        <extensionPoint name="fileEditorProvider" interface="com.github.mouse0w0.peach.fileEditor.FileEditorProvider"/>
    </extensionPoints>

    <extensions namespace="peach">
        <applicationService interface="com.github.mouse0w0.peach.service.store.ServiceStore"
                            implementation="com.github.mouse0w0.peach.service.store.AppServiceStore"/>
        <applicationService interface="com.github.mouse0w0.peach.plugin.PluginManager"
                            implementation="com.github.mouse0w0.peach.plugin.PluginManagerImpl"/>
        <applicationService implementation="com.github.mouse0w0.peach.action.ActionManager" preload="true"/>
        <applicationService implementation="com.github.mouse0w0.peach.data.DataManager"/>
        <applicationService implementation="com.github.mouse0w0.peach.window.WindowManager"/>
        <applicationListener topic="ProjectLifecycleListener"
                             listener="com.github.mouse0w0.peach.window.WindowManager$Listener"/>
        <applicationService implementation="com.github.mouse0w0.peach.recentProject.RecentProjectManager"/>
        <applicationListener topic="ProjectLifecycleListener"
                             listener="com.github.mouse0w0.peach.recentProject.RecentProjectManager$Listener"/>
        <applicationService implementation="com.github.mouse0w0.peach.project.service.FileChooserHelper"/>
        <applicationService interface="com.github.mouse0w0.peach.project.ProjectManager"
                            implementation="com.github.mouse0w0.peach.project.ProjectManagerImpl"/>
        <applicationService implementation="com.github.mouse0w0.peach.icon.IconManager"/>

        <applicationService implementation="com.github.mouse0w0.peach.mcmod.element.ElementRegistry" preload="true"/>
        <applicationService implementation="com.github.mouse0w0.peach.mcmod.content.ContentPackManager" preload="true"/>
        <applicationService implementation="com.github.mouse0w0.peach.mcmod.model.ModelManager" preload="true"/>
        <applicationListener topic="ProjectWindowListener"
                             listener="com.github.mouse0w0.peach.mcmod.project.McModProjectListener"/>

        <projectService interface="com.github.mouse0w0.peach.service.store.ServiceStore"
                        implementation="com.github.mouse0w0.peach.service.store.ProjectServiceStore"/>
        <projectService implementation="com.github.mouse0w0.peach.fileWatch.ProjectFileWatcher"/>
        <projectService implementation="com.github.mouse0w0.peach.project.service.WindowStateManager"/>
        <projectService implementation="com.github.mouse0w0.peach.view.ViewManager"/>
        <projectService implementation="com.github.mouse0w0.peach.project.service.FileChooserHelper"/>
        <projectService implementation="com.github.mouse0w0.peach.fileEditor.FileEditorManager"/>

        <projectService implementation="com.github.mouse0w0.peach.mcmod.project.McModDescriptor"/>
        <projectService implementation="com.github.mouse0w0.peach.mcmod.index.IndexManager" preload="true"/>
        <projectService implementation="com.github.mouse0w0.peach.mcmod.index.BuiltinIndexProvider" preload="true"/>
        <projectService implementation="com.github.mouse0w0.peach.mcmod.content.ProjectContentPackManager"
                        preload="true"/>
        <projectService implementation="com.github.mouse0w0.peach.mcmod.element.ElementManager" preload="true"/>

        <projectService implementation="com.github.mouse0w0.peach.view.ProjectView"/>
        <view id="Project" icon="Icons.View.Project" position="LEFT_TOP"
              factory="com.github.mouse0w0.peach.view.ProjectView$Factory"/>

        <projectService implementation="com.github.mouse0w0.peach.mcmod.view.ItemFavoritesView"/>
        <view id="ItemFavorites" icon="Icons.View.ItemFavorites" position="RIGHT_TOP"
              factory="com.github.mouse0w0.peach.mcmod.view.ItemFavoritesView$Factory"/>

        <fileAppearance implementation="com.github.mouse0w0.peach.file.StandardFileAppearance"/>
        <fileAppearance implementation="com.github.mouse0w0.peach.mcmod.file.McModFileAppearance" order="first"/>

        <fileEditorProvider implementation="com.github.mouse0w0.peach.mcmod.fileEditor.MetadataFileEditorProvider"/>
        <fileEditorProvider implementation="com.github.mouse0w0.peach.mcmod.fileEditor.ElementFileEditorProvider"/>
    </extensions>

    <actions>
        <group id="New">
            <action id="NewModElement" icon="Icons.File.ModElement"
                    class="com.github.mouse0w0.peach.mcmod.action.NewModElementAction"/>
            <action id="NewFile" icon="Icons.File.File"
                    class="com.github.mouse0w0.peach.action.file.NewFileAction"/>
            <action id="NewDirectory" icon="Icons.File.Folder"
                    class="com.github.mouse0w0.peach.action.file.NewDirectoryAction"/>
            <separator/>
            <action id="NewProject" class="com.github.mouse0w0.peach.action.file.NewProjectAction"/>
        </group>

        <group id="MainMenu">
            <group id="File">
                <reference id="New"/>
                <action id="OpenProject" icon="Icons.Action.OpenProject"
                        class="com.github.mouse0w0.peach.action.file.OpenProjectAction"/>
                <action id="CloseProject"
                        class="com.github.mouse0w0.peach.action.file.CloseProjectAction"/>
                <separator/>

                <action id="OpenSettings"/>
                <action id="OpenProjectSettings" icon="Icons.Action.ProjectSettings"
                        class="com.github.mouse0w0.peach.mcmod.action.OpenProjectSettingsAction"/>
                <separator/>

                <action id="Exit" class="com.github.mouse0w0.peach.action.file.ExitAction"/>
            </group>

            <group id="Build">
                <action id="ExportProject" icon="Icons.Action.Export"
                        class="com.github.mouse0w0.peach.mcmod.action.ExportProjectAction"/>
            </group>

            <group id="Help">
                <action id="About"/>
                <action id="Donate" icon="Icons.Action.Donate"
                        class="com.github.mouse0w0.peach.action.help.DonateAction"/>
            </group>
        </group>

        <group id="FilePopupMenu">
            <reference id="New"/>
            <separator/>
            <action id="Cut"
                    class="com.github.mouse0w0.peach.action.edit.CutAction"/>
            <action id="Copy"
                    class="com.github.mouse0w0.peach.action.edit.CopyAction"/>
            <action id="Paste"
                    class="com.github.mouse0w0.peach.action.edit.PasteAction"/>
            <separator/>
            <action id="Rename"
                    class="com.github.mouse0w0.peach.action.edit.RenameAction"/>
            <action id="Delete"
                    class="com.github.mouse0w0.peach.action.edit.DeleteAction"/>
            <separator/>
            <action id="ShowInExplorer"
                    class="com.github.mouse0w0.peach.action.file.ShowInExplorerAction"/>
        </group>

        <group id="RecentProjectPopupMenu">
            <action id="RecentProjectOpen"
                    class="com.github.mouse0w0.peach.recentProject.RecentProjectOpenAction"/>
            <action id="RecentProjectRemove"
                    class="com.github.mouse0w0.peach.recentProject.RecentProjectRemoveAction"/>
        </group>
    </actions>
</plugin>